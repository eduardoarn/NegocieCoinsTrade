<ion-header>
  <ion-navbar>
    <ion-title>Cotação Bitcoin</ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>
  <h2 style="text-align: center">NegocieCoins</h2>
  <div *ngIf="ultimaCotacao">
    <div>
      <b>Valor:</b> {{ultimaCotacao.last | currency:'BRL':2}} |
      <b>Compra:</b> {{ultimaCotacao.buy | currency:'BRL':2}} |
      <b>Venda:</b> {{ultimaCotacao.sell | currency:'BRL':2}}
    </div>
    <div style="text-align: center">
      <b>Ultimas 24H</b>
    </div>
    <div>
      <b>Menor Valor:</b> {{ultimaCotacao.low | currency:'BRL':2}} |
      <b>Maior Valor:</b> {{ultimaCotacao.high | currency:'BRL':2}} |
      <b>Volume:</b> {{ultimaCotacao.vol | number:'3.2-2'}}
    </div>
    <div>
      {{ (ultimaCotacao.date*1000) | date:'dd/MM/yyyy HH:mm:ss'}}
    </div>
  </div>
  <button ion-button (click)="atualizarUltimaCotacao()" *ngIf="!carregando">Atualizar</button>
  <button ion-button disabled *ngIf="carregando">Atualizando...</button>
  <ion-item>
    <ion-label floating>Tempo de atualização (Segundos)</ion-label>
    <ion-input type="number" [(ngModel)]="tempoAtualizacao"></ion-input>

  </ion-item>
  <hr>
  <div *ngIf="ultimaCotacao">
    <h3 style="text-align: center">Calculadora</h3>
    <ion-item>
      <ion-label floating>Valor em Bitcoins</ion-label>
      <ion-input type="number" [(ngModel)]="valorCalcular"></ion-input>
    </ion-item>
    <ion-item *ngIf="valorCalcular">
      <span>Valor:</span>
      <b>{{valorCalcular * ultimaCotacao.last | currency:'BRL':2}}</b> |
      <div>
        <span>Compra:</span>
        <b>{{valorCalcular * ultimaCotacao.buy | currency:'BRL':2}}</b> |
        <span>Venda:</span>
        <b>{{valorCalcular * ultimaCotacao.sell | currency:'BRL':2}}</b>
      </div>
    </ion-item>
  </div>

</ion-content>
